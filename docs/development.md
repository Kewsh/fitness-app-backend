# Development rules and conventions

## Git and Github

### Workflow

To achieve better efficiency, it is useful to agree on a specific git workflow. For this project, we will be using the [Github flow](https://docs.github.com/en/get-started/quickstart/github-flow).

GitHub flow is a lightweight, branch-based workflow. In this workflow, we will open separate branches for each feature/bug/refactor/etc, commit our work in that branch, and when done, open a pull request to merge it with main. Code reviews, if necessary, and changes will be made in that PR, and when the changes are approved, the branch will be merged with main.

![Github flow](./media/github-flow.png)

### Branches

The most important thing to know and remember:
__No changes must EVER be directly commited to the main branch__

Before you start making changes, use `git checkout -b <branch_name>` to create a new branch.

#### Branch naming rules
Branches are divided into the following categories:
* frontend
* backend
* ui
* misc (i.e. other)

Each category is then divided into the following types:
* feature
* fix (i.e. bug fix)
* refactor

So the name of the final branch will be as follows:
```
<category>/<type>/branch-summary-three-words
```
So as an example, a branch that fixes a bug in the login button would be as follows:
```
frontend/fix/login-button-bug
```

or one that adds new info to the `README.md` file would be:
```
misc/feature/update-readme
```

### Commits

#### Commit related changes
A commit should be a wrapper for related changes. For example, fixing two different bugs should produce two separate commits

#### Small commits
Small commits make it easier for other developers to understand the changes and roll them back if something went wrong. With tools like the staging area and the ability to stage only parts of a file, Git makes it easy to create very granular commits.

#### Commit often
Committing often keeps your commits small and, again, helps you commit only related changes. Moreover, it allows you to share your code more frequently with others. That way it‘s easier for everyone to integrate changes regularly and avoid having merge conflicts. Having large commits and sharing them infrequently, in contrast, makes it hard to solve conflicts.

#### Don't commit half-done work
You should only commit code when a logical component is completed. Split a feature‘s implementation into logical chunks that can be completed quickly so that you can commit often. If you‘re tempted to commit just because you need a clean working copy (to check out a branch, pull in changes, etc.) consider using Git‘s __«Stash»__ feature instead.

#### Write Good Commit Messages
A General format for a good commit message is as follows:
```
Short (72 chars or less) summary

More detailed explanatory text. Wrap it to 72 characters. The blank line separating the summary from the body is critical (unless you omit the body entirely).

Write your commit message in the imperative: "Fix bug" and not "Fixed bug" or "Fixes bug." This convention matches up with commit messages generated by commands like git merge and git revert.

Further paragraphs come after blank lines.

- Bullet points are okay, too.
- Typically a hyphen or asterisk is used for the bullet, followed by a single space. Use a hanging indent.
```

##### Example
```
Add CPU arch filter scheduler support

In a mixed environment of ...
```

A properly formed git commit subject line should always be able to complete the following sentence:

`If applied, this commit will <your subject line here>`

##### Rules for writing better commit messages
* Separate subject from body with a blank line
* Do not end the subject line with a period
* Capitalize the subject line and each paragraph
* Use the imperative mood in the subject line
* Wrap lines at 72 characters
* Use the body to explain what and why you have done something. In most cases, you can leave out details about how a change has been made.

### Pull Requests

After your work has been done with a branch, it's time to open a pull request for it so that it can be reviewed and then merged with the main branch.

#### Naming pull requests
I don't want to enforce many rules on the naming of PRs. Just keep them descriptive enough.

#### PR Body
The body of the PR must be _very_ detailed and descriptive. _Every_ change that was made in that branch must be mentioned precisely in the PR body, so that the person reading the body finds out about each and every change that happened in the branch.

## Sources
1. https://gist.github.com/luismts/495d982e8c5b1a0ced4a57cf3d93cf60
2. https://gist.github.com/robertpainsi/b632364184e70900af4ab688decf6f53

